<div class="card mt-5">
  <div class="card-header">
    <h5 class="card-title">Cadastro de aeronaves</h5>
  </div>
  <div class="card-body">
    <form [formGroup]="airplaneForm">
      <div class="form-group">
        <label for="modelo">Modelo</label>
        <input id="modelo" class="form-control" type="text" formControlName="modelo">
        <span *ngIf="formFieldIsValid('modelo')"><small class="text-danger">Campo obrigatório</small></span>
      </div>
      <div class="form-group">
        <label for="qtdPassageiros">Quantidade de passageiros:</label>
        <input id="qtdPassageiros" class="form-control" type="number" formControlName="qtdPassageiros">
        <span *ngIf="formFieldIsValid('qtdPassageiros')"><small class="text-danger">Campo obrigatório</small></span>
      </div>
      <button class="btn btn-success" (click)="Salvar()" [disabled]="this.airplaneForm.invalid">Salvar
      </button>
    </form>

  </div>
</div>


<table class="table table-hover table-striped table-sm mt-5">
  <thead class="thead-dark">
    <th>Id</th>
    <th>Modelo</th>
    <th>Núm. passageiros</th>
    <th>Data de registro</th>
    <th></th>
    <th></th>
  </thead>
  <tbody>
    <tr id={{airplane.id}} *ngFor="let airplane of airplanes;">
      <td>{{airplane.id}}</td>
      <td>{{airplane.modelo}}</td>
      <td>{{airplane.qtdPassageiros}}</td>
      <td>{{airplane.dataCriacaoRegistro | date:'dd/MM/yyyy'}}</td>
      <td><button [routerLink]="['/airplane', airplane.id]" class="btn btn-outline-info">
          Editar
        </button>
      </td>
      <td><button (click)="openModal(modalDelete, airplane.id)" class="btn btn-outline-danger">Deletar</button></td>
    </tr>
  </tbody>
</table>



<ng-template #modalDelete>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Deletar</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    Confirmar exclusão?
  </div>
  <div class="modal-footer">
    <button class="btn btn-danger" (click)="Deletar()">Deletar</button>
    <button class="btn btn-outline-primary" (click)="modalRef.hide()">Cancelar</button>
  </div>
</ng-template>
